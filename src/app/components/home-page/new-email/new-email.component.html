<div class="text-xl p-fluid">

  <p-divider align="center">
    <span class="p-tag text-xl">InfoMail</span>
  </p-divider>

  <div class="card fluid bg-primary-reverse p-3 text-3xl border-left-3 border-0">
    <b class="text-4xl">Creating
      <p-chip class="text-black-alpha-90 p-2 font-italic">new</p-chip>
      email:</b>
  </div>

  <div class="dialog-body mt-3">
    <!--Email form-->
    <form #emailForm="ngForm" (ngSubmit)="onSendEmail(emailForm)">

      <div class="form-group">

        <div class="fluid p-3 bg-primary-reverse">
          <div class="mb-2 ml-1"><i class="pi pi-user"></i> Recipients:</div>

          <p-tabView>

            <p-tabPanel header="TO">

              <p-scrollPanel class="select-all" [style]="{width: '100%', height: '90px'}">
                <p-chips [(ngModel)]="recipientsTO" styleClass="p-3"
                         (onAdd)="validateRecipientsTO()"
                         name="recipientsEmailsTO">
                </p-chips>
              </p-scrollPanel>
            </p-tabPanel>

            <p-tabPanel header="CC">
              <p-scrollPanel class="select-all" [style]="{width: '100%', height: '100px'}">
                <p-chips [(ngModel)]="recipientsCC"
                         (onAdd)="validateRecipientsCC()"
                         name="recipientsEmailsCC"></p-chips>
              </p-scrollPanel>
            </p-tabPanel>

            <p-tabPanel header="BCC">
              <p-scrollPanel class="select-all" [style]="{width: '100%', height: '100px'}">
                <p-chips [(ngModel)]="recipientsBCC"
                         (onAdd)="validateRecipientsBCC()"
                         name="recipientsEmailsBCC"></p-chips>
              </p-scrollPanel>
            </p-tabPanel>

          </p-tabView>
        </div>

      </div>
      <div class="form-group">
        <h4>Email subject:</h4>
        <textarea rows="2" cols="80" pInputTextarea ngModel name="emailSubject"></textarea>
      </div>
      <div class="form-group">
        <h4>Email body:</h4>
        <span class="p-float-label">
          <textarea rows="5" cols="80" pInputTextarea ngModel name="emailBody"></textarea>
        </span>
      </div>
      <div class="form-group">
        <h4>Enable schedule settings:</h4>
        <p-inputSwitch (onChange)="switchScheduleFormHidden()"
                       ngModel name="!isSendNow"></p-inputSwitch>
        <app-schedule-form *ngIf="!isSendNow" (formGroupEE)="parentForm.setControl('schedule', $event)" ></app-schedule-form>
      </div>

      <!--Email form buttons -->
      <div class="modal-footer mt-4 text-xl">
        <p-button label="Send" type="submit"></p-button>
      </div>

    </form>
  </div>
</div>
