<!--New Email button-->
<p-button (click)="showModalDialog(emailForm)" icon="pi pi-external-link" label="New Email"></p-button>

<!--Create email dialog-->
<p-dialog header="Create new mail" [(visible)]="displayModal" [modal]="true" [style]="{width: '50vw'}"
          [draggable]="false" [resizable]="false">
  <div class="dialog-body">
    <!--Email form-->
    <form #emailForm="ngForm" (ngSubmit)="onSendEmail(emailForm)">
      <div class="form-group">
        <h5>Recipients mails</h5>
        <h6>TO:</h6>
        <p-chips ngModel name="recipientsEmailsTO"></p-chips>
        <h6>CC:</h6>
        <p-chips ngModel name="recipientsEmailsCC"></p-chips>
        <h6>BCC:</h6>
        <p-chips ngModel name="recipientsEmailsBCC"></p-chips>
      </div>
      <div class="form-group">
        <h5>Email subject</h5>
        <textarea rows="2" cols="80" pInputTextarea ngModel name="emailSubject"></textarea>
      </div>
      <div class="form-group">
        <h5>Email body</h5>
        <span class="p-float-label">
          <textarea rows="5" cols="80" pInputTextarea ngModel name="emailBody"></textarea>
        </span>
      </div>
      <div class="form-group">
        <h5>Enable schedule settings</h5>
        <p-inputSwitch (onChange)="switchScheduleFormHidden()" [(ngModel)]="isEnableSchedule" name="scheduleFormSwitcher"></p-inputSwitch>
      </div>
      <div class="form-group" [hidden]="isScheduleFormHidden">
        <h5>Schedule settings</h5>
        <h6>Send at:</h6>
        <div class="p-field p-col-12 p-md-4">
          <p-calendar ngModel name="emailSendDate" [showTime]="true" [showIcon]="true"></p-calendar>
        </div>
      </div>

      <!--Email form buttons -->
      <div class="modal-footer">
        <p-button (click)="displayModal=false" label="Close" styleClass="p-button-text"></p-button>
        <p-button label="Send" type="submit" styleClass="p-button-text"></p-button>
      </div>
    </form>
  </div>
</p-dialog>
